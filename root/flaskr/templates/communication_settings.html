{% extends 'base.html' %} {% block content %}

<script>
  var success = "{{ success }}";
  console.log(success);
  if (success == "True") {
    alert("Data uploaded successfully.");
  }
</script>
{% if error!=None %}
<div class="rounded-md bg-red-50 p-4">
  <div class="flex">
    <div class="flex-shrink-0">
      <svg
        class="h-5 w-5 text-red-400"
        viewBox="0 0 20 20"
        fill="currentColor"
        aria-hidden="true"
      >
        <path
          fill-rule="evenodd"
          d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z"
          clip-rule="evenodd"
        />
      </svg>
    </div>
    <div class="ml-3">
      <h3 class="text-sm font-medium text-red-800">
        There were errors with your submission
      </h3>
      <div class="mt-2 text-sm text-red-700">
        <ul role="list" class="list-disc space-y-1 pl-5">
          {%for key,val in error.items()%} {% if key != 'error' %}
          <li>"{{ key }}":"{{ val }}"</li>
          {%endif%} {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>
{% endif %}
<div class="text-center">
  <h1 class="text-3xl text-slate-700 font-medium">Communication Settings</h1>
</div>

<div class="hidden sm:block" aria-hidden="true">
  <div class="py-5">
    <div class="border-t border-gray-200"></div>
  </div>
</div>

<div class="mt-10 sm:mt-0">
  <div class="md:grid md:grid-cols-3 md:gap-6">
    <div class="md:col-span-1">
      <div class="px-4 sm:px-0">
        <h3 class="text-base font-semibold leading-6 text-gray-900">
          General Settings
        </h3>
      </div>
    </div>

    <div class="mt-5 md:col-span-2 md:mt-0">
      <div class="overflow-hidden shadow sm:rounded-md">
        <form method="POST" action="/communication?f=communication.general">
          <div class="bg-white px-4 py-5 sm:p-6 grid grid-cols-6 gap-6">
            <div class="col-span-6 sm:col-span-2">
              <label
                for="nm"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Networking Mode</label
              >
              <select
                type="text"
                name="nm"
                id="nm"
                value="{{data[0][45]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              >
              </select>
            </div>
            <!--<div class="col-span-6 sm:col-span-2">
              <label
                for="nc"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Network Connectivity</label
              >
              <select
                type="text"
                name="nc"
                id="nc"
                autocomplete=""
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              >
                <option id="Cellular" value="Cellular">Cellular</option>
                <option id="Wi-Fi" value="Wi-Fi">Wi-Fi</option>
              </select>
            </div>
          </div>-
        <div class="bg-white px-4 py-5 sm:p-6 grid grid-cols-6 gap-6">-->
          <div class="col-span-6 sm:col-span-2">
            <label
              for="hbi"
              class="block text-sm font-medium leading-6 text-gray-900"
              >Heartbeat Interval</label
            >
            <input
              type="text"
              name="hbi"
              id="hbi"
              value="{{data[0][26]}}"
              class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 pl-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
            />
          </div>
        </div>
          <div class="bg-gray-50 px-4 py-3 text-right sm:px-6">
            <button
              type="submit"
              class="inline-flex justify-center rounded-md bg-emerald-600 py-2 px-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500"
              value="upload"
              name="upload"
            >
              Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="hidden sm:block" aria-hidden="true">
  <div class="py-5">
    <div class="border-t border-gray-200"></div>
  </div>
</div>

<div class="mt-10 sm:mt-0">
  <div class="md:grid md:grid-cols-3 md:gap-6">
    <div class="md:col-span-1">
      <div class="px-4 sm:px-0">
        <h3 class="text-base font-semibold leading-6 text-gray-900">
          Local Load Management Settings
        </h3>
      </div>
    </div>

    <div class="mt-5 md:col-span-2 md:mt-0">
      <div class="overflow-hidden shadow sm:rounded-md">
        <form method="POST" action="/communication?f=communication.llm" enctype = "multipart/form-data">
          <div class="bg-white px-4 py-5 sm:p-6 grid grid-cols-6 gap-6">
            <div class="col-span-6 sm:col-span-3">
              <label
                for="llm"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Upload Local Load Management File</label
              >
              <input
                type="file"
                name="llm"
                id="llm"
                accept =".json"
                class="block text-sm font-medium leading-6 text-gray-900 py-5"
              >
            </input>
          </div>
          </div>
          <div class="bg-gray-50 px-4 py-3 text-right sm:px-6 col-span-5">
            <button
              type="submit"
              class="inline-flex justify-center rounded-md bg-emerald-600 py-2 px-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500"
              value="file"
              name="file"
            >
              Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="hidden sm:block" aria-hidden="true">
  <div class="py-5">
    <div class="border-t border-gray-200"></div>
  </div>
</div>

<div class="mt-10 sm:mt-0">
  <div class="md:grid md:grid-cols-3 md:gap-6">
    <div class="md:col-span-1">
      <form method="POST" action="/communication?f=communication.wifi">
      <div class="px-4 sm:px-0">
        <h3 class="text-base font-semibold leading-6 text-gray-900">
          Wi-Fi Settings
        </h3>
      </div>
    </div>

    <div class="mt-5 md:col-span-2 md:mt-0">
      <!-- Current Wifi Network -->
      <div class="overflow-hidden shadow sm:rounded-md">
          <div class="bg-white px-4 py-5 sm:p-6 grid grid-cols-6 gap-6">
            <div class="col-span-6 sm:col-span-2">
              <label
                for="wnn"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Wifi Network SSID
              </label>
              <input
                type="text"
                name="wnn"
                id="wnn"
                autocomplete="wnn"
                value="{{data[0][47]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <!--<div class="col-span-6 sm:col-span-2">
              <label
                for="wbn"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Wifi Network BSSID
              </label>
              <input
                type="text"
                name="wbn"
                id="wbn"
                autocomplete="wbn"
                value="{{data[0][48]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>-->

            <div class="col-span-6 sm:col-span-2">
              <label
                for="ss"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Wifi Signal Strength
              </label>
              <input
                type="text"
                name="ss"
                id="ss"
                autocomplete="ss"
                value="{{data[2][6]}}"
                disabled
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>
          </div>
      </div>

      <div class="hidden sm:block" aria-hidden="true">
        <div class="py-2"></div>
      </div>

      <div class="overflow-hidden shadow sm:rounded-md">
          <div class="bg-white px-4 py-5 sm:p-6 grid grid-cols-6 gap-6">
            <div class="col-span-6 sm:col-span-2">
              <label
                for="wnn"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Wi-Fi Network Name</label
              >
              <select
                type="text"
                onclick=""
                name="wnn"
                id="wnn2"
                value=""
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              ></select>
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="sp"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Security Protocol</label
              >
              <select
                type="text"
                name="sp"
                id="sp"
                autocomplete="sp"
                value=""
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              >
                <option id="None" value="none">None</option>
                <!-- <option id="WEP" value="wep">WEP</option> -->
                <option id="WPA-PSK" value="psk">WPA-PSK</option>
                <option id="WPA2-PSK" value="psk2">WPA2-PSK</option>
                <option id="wpwp" value="psk-mixed">
                  WPA-PSK+WPA2-PSK
                </option>
                <option id="Auto" value="auto">Auto</option>
              </select>
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="wnp"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Wi-fi Network Password</label
              >
              <input
                type="text"
                name="wnp"
                id="wnp"
                autocomplete="wnp"
                value=""
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>
          </div>

          <div class="bg-gray-50 px-4 py-3 text-right sm:px-6">
            <button
              class="inline-flex justify-center rounded-md bg-emerald-600 py-2 px-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500"
              value="wifi"
              name="wifi"
              id="wifi"
            >
              Scan
            </button>
            <button
              type="submit"
              class="inline-flex justify-center rounded-md bg-emerald-600 py-2 px-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500"
              value="upload"
              name="upload"
              id="wifi2"
            >
              Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!--<div class="hidden sm:block" aria-hidden="true">
  <div class="py-5">
    <div class="border-t border-gray-200"></div>
  </div>
</div>

<div class="mt-10 sm:mt-0">
  <div class="md:grid md:grid-cols-3 md:gap-6">
    <div class="md:col-span-1">
      <div class="px-4 sm:px-0">
        <h3 class="text-base font-semibold leading-6 text-gray-900">
          Cellular Settings
        </h3>
      </div>
    </div>

    <div class="mt-5 md:col-span-2 md:mt-0">
      <div class="overflow-hidden shadow sm:rounded-md">
        <form method="POST" action="/communication?f=communication.cellular">
          <div class="bg-white px-4 py-5 sm:p-6 grid grid-cols-6 gap-6">
            <div class="col-span-6 sm:col-span-2">
              <label
                for="iccid"
                class="block text-sm font-medium leading-6 text-gray-900"
                >ICCID</label
              >
              <input
                type="text"
                name="iccid"
                id="iccid"
                value="{{data[0][51]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="apn"
                class="block text-sm font-medium leading-6 text-gray-900"
                >APN</label
              >
              <input
                type="text"
                name="apn"
                id="apn"
                value="{{data[0][52]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="apnu"
                class="block text-sm font-medium leading-6 text-gray-900"
                >APN Username</label
              >
              <input
                type="text"
                name="apnu"
                id="apnu"
                value="{{data[0][53]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="apnp"
                class="block text-sm font-medium leading-6 text-gray-900"
                >APN Password</label
              >
              <input
                type="text"
                name="apnp"
                id="apnp"
                value="{{data[0][54]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="dn"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Dial Number</label
              >
              <input
                type="text"
                name="dn"
                id="dn"
                value="{{data[0][55]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="pc"
                class="block text-sm font-medium leading-6 text-gray-900"
                >PIN Code</label
              >
              <input
                type="text"
                name="pc"
                id="pc"
                value="{{data[0][56]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="ss"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Cellular Signal Strength
              </label>
              <input
                type="text"
                name="ss"
                id="ss"
                value="{{data[2][7]}}"
                disabled
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>

            <div class="col-span-6 sm:col-span-2">
              <label
                for="ri"
                class="block text-sm font-medium leading-6 text-gray-900"
                >Reconnect Interval</label
              >
              <input
                type="text"
                name="ri"
                id="ri"
                value="{{data[0][57]}}"
                class="disabled:bg-gray-100 mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6"
              />
            </div>
          </div>

          <div class="bg-gray-50 px-4 py-3 text-right sm:px-6">
            <button
              type="submit"
              class="inline-flex justify-center rounded-md bg-emerald-600 py-2 px-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500"
              value="upload"
              name="upload"
            >
              Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>-->

<div class="hidden sm:block" aria-hidden="true">
  <div class="py-5">
    <div class="border-t border-gray-200"></div>
  </div>
</div>

{% endblock %}
